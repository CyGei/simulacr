<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Simulate contacts of cases — simulate_contacts • simulacr</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Simulate contacts of cases — simulate_contacts" />

<meta property="og:description" content="Under development. Do not use. This simulator adds contacts to the cases of
an outbreak object, using user-defined distributions for numbers and
duration of contacts. It returns an outbreaks object with cases and
contacts, identifying entries in the linelist as cases or contacts, and links
as exposures or transmissions." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">simulacr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.1.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/reconhub/simulacr">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Simulate contacts of cases</h1>
    <small class="dont-index">Source: <a href='https://github.com/reconhub/simulacr/blob/master/R/simulate_contacts.R'><code>R/simulate_contacts.R</code></a></small>
    <div class="hidden name"><code>simulate_contacts.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Under development. Do not use. This simulator adds contacts to the cases of
an <code>outbreak</code> object, using user-defined distributions for numbers and
duration of contacts. It returns an <code>outbreaks</code> object with cases and
contacts, identifying entries in the linelist as cases or contacts, and links
as exposures or transmissions.</p>
    
    </div>

    <pre class="usage"><span class='fu'>simulate_contacts</span>(<span class='no'>x</span>, <span class='no'>n_contacts</span>, <span class='no'>dist_time_to_contact</span>, <span class='no'>dist_duration</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>an <code>outbreak</code> object as returned by <code>simulate_outbreak</code></p></td>
    </tr>
    <tr>
      <th>n_contacts</th>
      <td><p>a vector of values to be used as average number of
contacts; values will be drawn at random from this vector to determine the
expected number of contacts for each new case</p></td>
    </tr>
    <tr>
      <th>dist_time_to_contact</th>
      <td><p>the distribution of the delay to new exposures,
in days after the onset of symptoms</p></td>
    </tr>
    <tr>
      <th>dist_duration</th>
      <td><p>the distribution of duration of the exposure period
after the first day, i.e. the time interval between the start and the end
of the exposure window</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code>simulate_outbreak</code></p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='co'>## first simulate an outbreak</span>
<span class='co'>## (see example in ?simulate_outbreak)</span>
<span class='no'>incubation</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>0</span>, <span class='fl'>1</span>, <span class='fl'>1</span>, <span class='fl'>1</span>, <span class='fl'>1</span>) <span class='co'># numbers = unscaled PMF</span>
<span class='no'>infectious_period</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='make_disc_gamma.html'>make_disc_gamma</a></span>(<span class='fl'>10</span>, <span class='fl'>7</span>) <span class='co'># distcrete object</span>
<span class='no'>reporting</span> <span class='kw'>&lt;-</span> <span class='kw'>function</span>(<span class='no'>x</span>) <span class='fu'><a href='https://www.rdocumentation.org/packages/stats/topics/Poisson'>dpois</a></span>(<span class='no'>x</span>, <span class='fl'>5</span>) <span class='co'># PMF function</span>
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/Random'>set.seed</a></span>(<span class='fl'>1</span>)
<span class='no'>x</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='simulate_outbreak.html'>simulate_outbreak</a></span>(<span class='kw'>R</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/stats/topics/Uniform'>runif</a></span>(<span class='fl'>100</span>, <span class='fl'>1</span>, <span class='fl'>3</span>), <span class='co'># random values on [1;3]</span>
                       <span class='kw'>dist_incubation</span><span class='kw'>=</span> <span class='no'>incubation</span>,
                       <span class='kw'>dist_infectious_period</span> <span class='kw'>=</span> <span class='no'>infectious_period</span>,
                       <span class='kw'>dist_reporting</span> <span class='kw'>=</span> <span class='no'>reporting</span>)

<span class='co'>## simulate contacts: inputs</span>

<span class='co'>## exposure starts 0-2 days post onset</span>
<span class='no'>time_to_contact</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>1</span>, <span class='fl'>1</span>, <span class='fl'>1</span>)

<span class='co'>## geom dist for duration of exposure</span>
<span class='no'>duration</span> <span class='kw'>&lt;-</span> <span class='kw'>function</span>(<span class='no'>x</span>) <span class='fu'><a href='https://www.rdocumentation.org/packages/stats/topics/Geometric'>dgeom</a></span>(<span class='no'>x</span>, <span class='kw'>prob</span> <span class='kw'>=</span> <span class='fl'>.9</span>)

<span class='no'>x_with_contacts</span> <span class='kw'>&lt;-</span> <span class='fu'>simulate_contacts</span>(
    <span class='no'>x</span>[<span class='fl'>1</span>:<span class='fl'>10</span>, ],
    <span class='kw'>n_contacts</span> <span class='kw'>=</span> <span class='fl'>1</span>:<span class='fl'>10</span>, <span class='co'># 1 to 10 contacts</span>
    <span class='kw'>dist_time_to_contact</span> <span class='kw'>=</span> <span class='no'>time_to_contact</span>,
    <span class='kw'>dist_duration</span> <span class='kw'>=</span> <span class='no'>duration</span>)

<span class='co'>## check output</span>
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/class'>class</a></span>(<span class='no'>x_with_contacts</span>)</div><div class='output co'>#&gt; [1] "outbreak"   "data.frame"</div><div class='input'><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/dim'>dim</a></span>(<span class='no'>x_with_contacts</span>)</div><div class='output co'>#&gt; [1] 72  9</div><div class='input'><span class='fu'><a href='https://www.rdocumentation.org/packages/utils/topics/head'>head</a></span>(<span class='no'>x_with_contacts</span>)</div><div class='output co'>#&gt;        id source date_infection date_onset date_report       R     type
#&gt; 1  eLGzdD   &lt;NA&gt;              0          3          12 1.95446     case
#&gt; 11 bhn89z eLGzdD             NA         NA          NA      NA non_case
#&gt; 12 OBTXKz eLGzdD             NA         NA          NA      NA non_case
#&gt; 14 mdHBGW eLGzdD             NA         NA          NA      NA non_case
#&gt; 16 ZqewV5 eLGzdD             NA         NA          NA      NA non_case
#&gt; 17 zOtsI8 eLGzdD             NA         NA          NA      NA non_case
#&gt;    date_exposure_start date_exposure_end
#&gt; 1                    0                 0
#&gt; 11                   3                 3
#&gt; 12                   3                 3
#&gt; 14                   3                 3
#&gt; 16                   3                 3
#&gt; 17                   3                 3</div><div class='input'><span class='fu'><a href='https://www.rdocumentation.org/packages/graphics/topics/plot'>plot</a></span>(<span class='no'>x_with_contacts</span>)</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    <p>Thibaut Jombart <a href='mailto:thibautjombart@gmail.com'>thibautjombart@gmail.com</a></p>
  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Thibaut Jombart.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

